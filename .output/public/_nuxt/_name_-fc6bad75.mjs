import{a as V,y as _,w,M as D,B as j,b as M,N as E,o,c as k,K as v,P as I,C as r,U as e,V as m,u as z,Q as C,R as N,S as P,a8 as R,O as U,a9 as q,L as A,W as F,X as H,a4 as K,H as O}from"./entry-066116d1.mjs";import{u as S}from"./index-7a4fd468.mjs";const Q={key:0,class:"p-12 min-h-screen"},W={class:"capitalize text-xl font-semibold tracking-widest border-b border-base-200 pb-4"},X={class:"columns-3 gap-8 mt-8"},$={class:"object-cover max-h-96 border border-base-300 object-top w-full h-full rounded-box cursor-zoom-in"},G={class:"px-2"},J={class:"text-lg mt-4 mb-2 font-medium capitalize"},Y=e("div",{class:"flex justify-between items-center mt-24"},[e("div",{class:"flex-1 border-t border-dotted border-base-content/20"}),e("span",{class:"px-12 text-base-content/50 font-medium font-sans"}," end "),e("div",{class:"flex-1 border-t border-dotted border-base-content/20"})],-1),ae={__name:"[name]",async setup(Z){let n,p;const f=V(),{params:B}=f,{name:b}=B,t=S("tag-list-data",[]),l=S("tag-scroll",0),h=15,c=_(1);t.value.length>0&&(c.value=Math.ceil(t.value.length/h));const g=_(!1),a=_([]);w(f,u=>{u.name==="slug"?l.value=R.value.y:(t.value=[],l.value=0)});const x=async()=>await U(b,{pageIndex:c.value,pageSize:h});return(!t.value||!t.value.length)&&(a.value=([n,p]=D(()=>x()),n=await n,p(),n)),j(async()=>{if(t.value.length>0){a.value=t.value,l.value>0&&(await M(),setTimeout(()=>{document.querySelector("#drawer-content").scrollTop=l.value},20));return}t.value=a.value}),w(q,async u=>{if(g.value)return;c.value++;const i=await x();i.length>0?(a.value=a.value.concat(i),t.value=a.value):g.value=!0}),(u,i)=>{const y=O,L=I,T=E("lazy");return o(),k(L,null,{default:v(()=>[a.value?(o(),r("main",Q,[e("h1",W,m(z(b)),1),e("div",X,[(o(!0),r(C,null,N(a.value,s=>(o(),r("div",{class:"mb-8 w-full overflow-hidden",key:s._id},[A(y,{to:s._path},{default:v(()=>[F(e("img",$,null,512),[[T,z(H)(s.light||s.previews[0])]])]),_:2},1032,["to"]),e("div",G,[e("h3",J,m(s.title),1),e("p",null,[(o(!0),r(C,null,N(s.tags,d=>(o(),k(y,{to:`/tag/${d}`,key:d,class:"btn btn-xs mr-2 font-normal btn-primary"},{default:v(()=>[K(m(d),1)]),_:2},1032,["to"]))),128))])])]))),128))]),Y])):P("",!0)]),_:1})}}};export{ae as default};
