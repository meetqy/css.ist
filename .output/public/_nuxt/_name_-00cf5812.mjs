import{a as L,y as d,w as x,B as T,b as V,N as D,o,c as w,L as v,Z as j,O as M,C as l,S as e,U as _,u as y,P as k,Q as S,R as q,a9 as E,aa as I,M as P,V as R,W as U,a5 as F,H}from"./entry-2e3bef43.mjs";import{u as z}from"./index-752f376b.mjs";const O={key:0,class:"p-12 min-h-screen"},Q={class:"capitalize text-xl font-semibold tracking-widest border-b border-base-200 pb-4"},W={class:"columns-3 gap-8 mt-8"},Z={class:"object-cover max-h-96 border border-base-300 object-top w-full h-full rounded-box cursor-zoom-in"},$={class:"px-2"},A={class:"text-lg mt-4 mb-2 font-medium capitalize"},G=e("div",{class:"flex justify-between items-center mt-24"},[e("div",{class:"flex-1 border-t border-dotted"}),e("span",{class:"px-12 text-base-300 font-thin font-sans"},"end"),e("div",{class:"flex-1 border-t border-dotted"})],-1),Y={__name:"[name]",setup(J){const m=L(),{params:N}=m,{name:p}=N,a=z("tag-list-data",[]),n=z("tag-scroll",0),f=15,r=d(1);a.value.length>0&&(r.value=Math.ceil(a.value.length/f));const h=d(!1),t=d([]);x(m,c=>{c.name==="slug"?n.value=E.value.y:(a.value=[],n.value=0)});const b=async()=>await j(p,{pageIndex:r.value,pageSize:f});return T(async()=>{if(a.value.length>0){t.value=a.value,n.value>0&&(await V(),setTimeout(()=>{console.log(n.value,document.querySelector("#drawer-content"),"mounted"),document.querySelector("#drawer-content").scrollTop=n.value},20));return}t.value=await b(),a.value=t.value}),x(I,async c=>{if(h.value)return;r.value++;const u=await b();u.length>0?(t.value=t.value.concat(u),a.value=t.value):h.value=!0}),(c,u)=>{const g=H,B=M,C=D("lazy");return o(),w(B,null,{default:v(()=>[t.value?(o(),l("main",O,[e("h1",Q,_(y(p)),1),e("div",W,[(o(!0),l(k,null,S(t.value,s=>(o(),l("div",{class:"mb-8 w-full overflow-hidden",key:s._id},[P(g,{to:s._path},{default:v(()=>[R(e("img",Z,null,512),[[C,y(U)(s.light||s.previews[0])]])]),_:2},1032,["to"]),e("div",$,[e("h3",A,_(s.title),1),e("p",null,[(o(!0),l(k,null,S(s.tags,i=>(o(),w(g,{to:`/tag/${i}`,key:i,class:"btn btn-xs mr-2 font-normal btn-primary"},{default:v(()=>[F(_(i),1)]),_:2},1032,["to"]))),128))])])]))),128))]),G])):q("",!0)]),_:1})}}};export{Y as default};
